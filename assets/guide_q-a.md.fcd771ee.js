import{_ as l,r as p,o as e,c as o,b as t,a as s,e as a,d as c}from"./app.d991dbbc.js";const _=JSON.parse('{"title":"常见问题","description":"","frontmatter":{},"headers":[{"level":2,"title":"安装依赖时有警告","slug":"安装依赖时有警告","link":"#安装依赖时有警告","children":[]},{"level":2,"title":"为什么本地开发环境首次载入很慢","slug":"为什么本地开发环境首次载入很慢","link":"#为什么本地开发环境首次载入很慢","children":[]},{"level":2,"title":"项目 URL 里的 # 号能不能去掉","slug":"项目-url-里的-号能不能去掉","link":"#项目-url-里的-号能不能去掉","children":[]},{"level":2,"title":"页面切换后显示空白","slug":"页面切换后显示空白","link":"#页面切换后显示空白","children":[]},{"level":2,"title":"构建报错，提示内存溢出","slug":"构建报错-提示内存溢出","link":"#构建报错-提示内存溢出","children":[]}],"relativePath":"guide/q-a.md"}'),r={name:"guide/q-a.md"},D=s("h1",{id:"常见问题",tabindex:"-1"},[a("常见问题 "),s("a",{class:"header-anchor",href:"#常见问题","aria-hidden":"true"},"#")],-1),F=s("h2",{id:"安装依赖时有警告",tabindex:"-1"},[a("安装依赖时有警告 "),s("a",{class:"header-anchor",href:"#安装依赖时有警告","aria-hidden":"true"},"#")],-1),i=c(`<p>这是一个可以无视的警告，因为依赖已经安装成功了。</p><p>如果对这个问题感兴趣，可以浏览下这个 <a href="https://github.com/pnpm/pnpm/issues/4183" target="_blank" rel="noreferrer">issue</a> ，里面有给出一个忽略警告的方案，就是在 <code>package.json</code> 中添加：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">pnpm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">peerDependencyRules</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">ignoreMissing</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">postcss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>这样你下次再安装依赖的时候，就不会出现该警告了。</p><h2 id="为什么本地开发环境首次载入很慢" tabindex="-1">为什么本地开发环境首次载入很慢 <a class="header-anchor" href="#为什么本地开发环境首次载入很慢" aria-hidden="true">#</a></h2><p>主要是 Vite 的原因，具体可以阅读这篇文章了解《<a href="https://juejin.cn/post/7129041114174062628" target="_blank" rel="noreferrer">为什么有人说 vite 快，有人却说 vite 慢？</a>》。</p><h2 id="项目-url-里的-号能不能去掉" tabindex="-1">项目 URL 里的 # 号能不能去掉 <a class="header-anchor" href="#项目-url-里的-号能不能去掉" aria-hidden="true">#</a></h2><p>这是因为路由默认使用的是 Hash 模式，你可以在 <code>/src/router/index.ts</code> 修改为 HTML5 模式，但需要注意，开启 HTML5 模式，服务器也需要做相应的配置调整，详细可阅读《<a href="https://next.router.vuejs.org/zh/guide/essentials/history-mode.html" target="_blank" rel="noreferrer">Vue-router 不同的历史模式</a>》。</p><h2 id="页面切换后显示空白" tabindex="-1">页面切换后显示空白 <a class="header-anchor" href="#页面切换后显示空白" aria-hidden="true">#</a></h2><p>因为路由切换有使用到 <code>&lt;transition&gt;</code> 动画，而 <code>&lt;transition&gt;</code> 组件无法处理多个根节点的组件，所以请检查路由对应所有的页面文件的根节点是否均为单个。</p><p>错误示例：</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">&lt;!-- 需要注意，注释也会被视为一个节点 --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">text h1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">text h2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  没有节点也是不行的</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>正确示例：</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">text h1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">text h2</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    这样就没问题啦</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>相关 <a href="https://github.com/vuejs/vue-next/issues/1850" target="_blank" rel="noreferrer">Issue</a> 说明。</p><h2 id="构建报错-提示内存溢出" tabindex="-1">构建报错，提示内存溢出 <a class="header-anchor" href="#构建报错-提示内存溢出" aria-hidden="true">#</a></h2><p>构建时失败并在错误信息里提示 <code>Reached heap limit Allocation failed - JavaScript heap out of memory</code> 。</p><p>你可以执行 <code>pnpm add cross-env -D</code> 安装 cross-env 依赖，并在 <code>package.json</code> 里修改构建脚本指令：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cross-env NODE_OPTIONS=--max-old-space-size=8192 vue-tsc --noEmit &amp;&amp; vite build</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>其中 8192 表示内存空间大小。</p>`,20);function y(d,h,C,u,A,g){const n=p("ZoomImg");return e(),o("div",null,[D,F,t(n,{src:"/qa1.png"}),i])}const v=l(r,[["render",y]]);export{_ as __pageData,v as default};
